{% extends 'base.html' %}
{% load bootstrap3 %}
{% block title %}
  <title>Postfix Vacation Record Management</title>
{% endblock %}
{% block content %}
    <div class="panel panel-primary">

      <div class="panel-heading">
        <h2>Postfix Vacation Record Management</h2>
      </div>

      <div class="panel-body">
      <style type="text/css">.control-label { text-align: right; }</style>
        <h4 color="lightgray">{% if object %}Edit{% else %}Create{% endif %} Vacation Record</h4>
        <form method="post" class="form">
            {% csrf_token %}
            {% bootstrap_form form layout="horizontal" %}
            {% buttons %}
              <button type="submit" class="btn btn-primary"> Submit </button>
              <button type="button" class="btn btn-primary" onclick="javascript:window.location='{% url 'vacations' %}'"> Cancel </button>
            {% endbuttons %}
        </form>
      </div>

      <div class="panel-body">

        <table width="90%" role="list" align="center" class="table table-striped">
          <caption>Vacation Records List</caption>
          <tbody>
          {% if vacation_list %}
            <tr bgcolor="lightgray" role="heading">
              <th>Domain</th>
              <th>Address</th>
              <th>Active</th>
              <th colspan="2">Created</th>
            </tr>
          {% endif %}
          {% for vacation in vacation_list %}
            <tr role="listitem">
              <td>{{ vacation.domain.name }}</td>
              <td>{{ vacation.mailbox.address }}</td>
              <td>{{ vacation.is_active }}</td>
              <td>{{ vacation.created }}</td>
              <td class="text-right">
                  <a href="{% url 'vacation_edit' pk=vacation.id %}" class="glyphicon glyphicon-edit"></a>
                  &nbsp;&nbsp;
                  <a href="{% url 'vacation_delete' pk=vacation.id %}" class="glyphicon glyphicon-remove"></a>
              </td>
            </tr>
          {% empty %}
            <tr>
              <td colpsan="5" class="text-center">No vacation records found</td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
{% endblock %}
